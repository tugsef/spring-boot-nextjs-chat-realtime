-- H2 2.2.224; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '9d0293d2e982bbbe' HASH '1deeaecb7893d36e7a97952ecbf4f9459ab7310db010e83576dda06540705179' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."CHATGROUP"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 7) NOT NULL,
    "CHAT_ID" CHARACTER VARYING(255),
    "RECIPIENT_ID" BIGINT,
    "SENDER_ID" BIGINT
);   
ALTER TABLE "PUBLIC"."CHATGROUP" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");     
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.CHATGROUP;
INSERT INTO "PUBLIC"."CHATGROUP" VALUES
(1, '1_2', 2, 1),
(2, '1_2', 1, 2),
(3, '1_3', 3, 1),
(4, '1_3', 1, 3),
(5, '1_4', 4, 1),
(6, '1_4', 1, 4);            
CREATE MEMORY TABLE "PUBLIC"."CHATMESSAGES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 8) NOT NULL,
    "CHAT_ID" CHARACTER VARYING(255),
    "CONTENT" CHARACTER VARYING(255),
    "IS_READ" BOOLEAN,
    "RECIPIENT_ID" BIGINT,
    "SENDER_ID" BIGINT,
    "TIME_STAMP" TIMESTAMP(6)
);    
ALTER TABLE "PUBLIC"."CHATMESSAGES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("ID");  
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.CHATMESSAGES;             
INSERT INTO "PUBLIC"."CHATMESSAGES" VALUES
(1, '1_2', '1 from 2 message 1', FALSE, 2, 1, NULL),
(2, '1_2', '1 from 2 message 2', FALSE, 2, 1, NULL),
(3, '1_3', '1 from 3 message 1', FALSE, 3, 1, NULL),
(4, '1_3', '1 from 3 message 2', FALSE, 3, 1, NULL),
(5, '1_4', '1 from 4 message 1', FALSE, 4, 1, NULL),
(6, '1_4', '2 from 1 message 1', FALSE, 1, 4, NULL),
(7, '1_2', 'selam', FALSE, 2, 1, NULL);               
CREATE MEMORY TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "FIRSTNAME" CHARACTER VARYING(255),
    "LASTNAME" CHARACTER VARYING(255),
    "STATUS" CHARACTER VARYING(255),
    "NICK_NAME" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4D" PRIMARY KEY("ID");        
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.USERS;    
INSERT INTO "PUBLIC"."USERS" VALUES
(1, 'sefa', 'sefa', 'ONLINE', 'user-1'),
(2, 'mirac', 'mirac', 'ONLINE', 'user-2'),
(3, 'tugsef', 'tugsef', 'ONLINE', 'user-3'),
(4, 'deneme', 'deneme', 'ONLINE', 'user-4');              
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" CHECK("STATUS" IN('ONLINE', 'OFFLINE')) NOCHECK;           
